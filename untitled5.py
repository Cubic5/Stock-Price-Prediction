# -*- coding: utf-8 -*-
"""Untitled5.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/108mOW0xIJ8_685bMtry0a-8POx6JOmQX
"""


# Importing the libraries
import streamlit as st
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import yfinance as yf
import joblib, os

saved_model = joblib.load('arima_model.pkl')

# Define a function to fetch the stock data
def fetch_stock_data(ticker, start_date, end_date):
    stock_data = yf.download(ticker, start=start_date, end=end_date)
    return stock_data

# Define a function to make predictions
def predict_stock_price(model, data):
    prediction = model.predict(data)
    return prediction

# Streamlit App
st.title('Stock Price Prediction App')

# Get user input
ticker = st.text_input('Enter the stock ticker symbol (e.g. AAPL)')
start_date = st.date_input('Select the start date')
end_date = st.date_input('Select the end date')

# Fetch and display the stock data
if st.button('Get Data'):
    data = fetch_stock_data(ticker, start_date, end_date)


    if data.empty:
        st.write('No data found for the select date range and ticker.')
    else:
        st.write('Stock Data:')
        st.write(data)


# Make Predictions
if st.button('Predict'):
    prediction = predict_stock_price(saved_model, data)
    st.write('Predicted Stock Prices:')
    st.write(prediction)


# Required to let Streamlit instantiate our web app.
if __name__ == '__main_':
        main()
